(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{260:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"关于-http-命令行、抓包工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于-http-命令行、抓包工具"}},[t._v("#")]),t._v(" 关于 HTTP 命令行、抓包工具")]),t._v(" "),a("h2",{attrs:{id:"curl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#curl"}},[t._v("#")]),t._v(" Curl")]),t._v(" "),a("p",[t._v("curl 是常用的命令行工具，用来请求 Web 服务器。它的名字就是客户端（client）的 URL 工具的意思。它的功能非常强大，命令行参数多达几十种。如果熟练的话，完全可以取代 Postman 这一类的图形界面工具。")]),t._v(" "),a("p",[t._v("curl 命令是一个利用 URL 规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称 curl 为下载工具。作为一款强力工具，curl 支持包括 HTTP、HTTPS、ftp 等众多协议，还支持 POST、cookies、认证、从指定偏移处下载部分文件、用户代理字符串、限速、文件大小、进度条等特征。做网页处理流程和数据检索自动化，curl 可以祝一臂之力。")]),t._v(" "),a("p",[t._v("抓取较为完整请求-应答内容：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -v www.baidu.com\n")])])]),a("p",[t._v("只打印响应头部信息"),a("code",[t._v("-I")]),t._v("或"),a("code",[t._v("-head")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -I www.baidu.com\n")])])]),a("p",[t._v("设置 Cookie：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" http://man.linuxde.net --cookie "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user=root;pass=123456"')]),t._v("\n")])])]),a("ul",[a("li",[a("a",{attrs:{href:"https://man.linuxde.net/curl",target:"_blank",rel:"noopener noreferrer"}},[t._v("curl 命令"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("阮一峰"),a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/09/curl-reference.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("curl 的用法指南"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"tcpdump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcpdump"}},[t._v("#")]),t._v(" Tcpdump")]),t._v(" "),a("p",[t._v("tcpdump 命令是一款 sniffer 工具，它可以打印所有经过网络接口的数据包的头信息，也可以使用-w 选项将数据包保存到文件中，方便以后分析。")]),t._v(" "),a("p",[t._v("tcpdump 通常作为标准的软件包被默认安装，可以执行 “tcpdump” 命令来确定是否已安装了 tcpdump。")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("~ ❯❯❯ tcpdump -h\ntcpdump version tcpdump version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.9")]),t._v(".3 -- Apple version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("90.60")]),t._v(".1\nlibpcap version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.9")]),t._v(".1\nLibreSSL "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.2")]),t._v(".7\nUsage: tcpdump "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-aAbdDefhHIJKlLnNOpqStuUvxX"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#] [ -B size ] [ -c count ]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -C file_size "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -E algo:secret "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -F "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -G seconds "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -i interface "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -j tstamptype "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -M secret "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" --number "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -Q "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("inout "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -r "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -s snaplen "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" --time-stamp-precision precision "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" --immediate-mode "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -T "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" --version "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -V "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -w "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -W filecount "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -y datalinktype "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -z postrotate-command "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -g "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -k "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -o "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -P "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -Q meta-data-expression"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" --apple-tzo offset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--apple-truncate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -Z user "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" expression "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("tcpdump 是命令行界面的（CUI），wireshark 是图形用户界面的（GUI），Wireshark 相对 tcpdump 而言，界面更友好、功能更强大。")]),t._v(" "),a("p",[t._v("可以指定 host 及端口，例如截获所有"),a("code",[t._v("www.baidu.com")]),t._v("的主机收到的和发出的所有的数据包：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" tcpdump "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" www.baidu.com and port "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),t._v("\ntcpdump: data "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" PKTAP\ntcpdump: verbose output suppressed, use -v or -vv "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" full protocol decode\nlistening on pktap, link-type PKTAP "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Apple DLT_PKTAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", capture size "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("262144")]),t._v(" bytes\n00:53:07.860010 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("112.80")]),t._v(".248.75.https "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" bogon.53865: Flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("F."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("seq")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3033805754")]),t._v(", ack "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("194332148")]),t._v(", win "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1248")]),t._v(", length "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n00:53:07.860112 IP bogon.53865 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("112.80")]),t._v(".248.75.https: Flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(", ack "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", win "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v(", length "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n")])])]),a("ul",[a("li",[a("a",{attrs:{href:"https://man.linuxde.net/tcpdump",target:"_blank",rel:"noopener noreferrer"}},[t._v("tcpdump 命令"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"wireshark"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wireshark"}},[t._v("#")]),t._v(" Wireshark")]),t._v(" "),a("p",[t._v("Wireshark（前称 Ethereal）是当今世界最流行的网络协议嗅探、抓包和分析工具，它使我们得以窥探网络上流动的数据及其协议细节。\n网络管理员使用 Wireshark 来检测网络问题；网络安全工程师使用 Wireshark 来检查网络安全相关问题；开发者可以使用 Wireshark 来开发调试新的通信协议；普通使用者可以使用 Wireshark 来学习网络协议栈相关的知识。")]),t._v(" "),a("ul",[a("li",[t._v("支持协议：所有网络数据包协议")]),t._v(" "),a("li",[t._v("解包协议：IPsec，ISAKMP，Kerberos，SNMPv3，SSL/TLS，WEP/WPA/WPA2")]),t._v(" "),a("li",[t._v("支持平台：Windows，Linux，macOS，Solaris，FreeBSD，NetBSD")]),t._v(" "),a("li",[t._v("性质：免费、开源")]),t._v(" "),a("li",[t._v("官网：https://www.wireshark.org")])]),t._v(" "),a("h2",{attrs:{id:"fiddler"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fiddler"}},[t._v("#")]),t._v(" Fiddler")]),t._v(" "),a("p",[t._v("Fiddler 是位于客户端和服务器端的 HTTP 代理，也是目前最常用的 http 抓包工具之一 。 它能够记录客户端和服务器之间的所有 HTTP 请求，可以针对特定的 HTTP 请求，分析请求数据、设置断点、调试 web 应用、修改请求的数据，甚至可以修改服务器返回的数据，功能非常强大，是 web 调试的利器。")]),t._v(" "),a("ul",[a("li",[t._v("支持协议：应用层（http、https ），调试 web 应用、修改 http 请求和响应数据；重定向请求数据，DNS 欺骗，手机 app 抓包等")]),t._v(" "),a("li",[t._v("支持平台：Windows，Linux，macOS")]),t._v(" "),a("li",[t._v("性质：免费")]),t._v(" "),a("li",[t._v("官网：https://pc.qq.com/detail/10/detail_3330.html")])]),t._v(" "),a("h2",{attrs:{id:"charles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#charles"}},[t._v("#")]),t._v(" Charles")]),t._v(" "),a("p",[t._v("Charles 是一款 HTTP 代理/HTTP 监视器/反向代理工具，使开发人员可以查看其计算机与 Internet 之间的所有 HTTP 和 SSL/HTTPS 通信。这包括请求，响应和 HTTP 标头（其中包含 cookie 和缓存信息）等。")]),t._v(" "),a("ul",[a("li",[t._v("支持协议：应用层（http、https ），调试 web 应用、修改 http 请求和响应数据；重定向请求数据，DNS 欺骗，手机 app 抓包等")]),t._v(" "),a("li",[t._v("支持平台：Windows，Linux，macOS")]),t._v(" "),a("li",[t._v("性质：收费")]),t._v(" "),a("li",[t._v("官网：https://www.charlesproxy.com")])]),t._v(" "),a("h2",{attrs:{id:"qpa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#qpa"}},[t._v("#")]),t._v(" QPA")]),t._v(" "),a("p",[t._v("一款开源开放的基于进程抓包、可自学习特征、提供正则表达式识别引擎的智能分析软件。主要应用于应用行为分析、应用特征提取，入侵行为分析、入侵规则提取等领域。支持长时间抓包与存储、支持大文件报文分析。")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("进程抓包")]),t._v("：QPA 是基于进程抓包的，实时准确判定每个包所属进程，优于仅基于网卡抓包的软件")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("分析智能")]),t._v("：QPA 按流量类型自动归类，分析简便，优于基于一条条会话的分析模式")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("识别引擎")]),t._v("：QPA 是基于正则表达式书写规则，能提取 IP、端口、报长与内容等维度特征")])]),t._v(" "),a("li",[a("p",[t._v("支持协议：应用层（http、https ），进程抓包等")])]),t._v(" "),a("li",[a("p",[t._v("支持平台：windows(XP|Win7|Win8|Win10) linux")])]),t._v(" "),a("li",[a("p",[t._v("性质：免费、开源")])]),t._v(" "),a("li",[a("p",[t._v("官网：http://www.l7dpi.com")])])]),t._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.uedbox.com/post/59475/",target:"_blank",rel:"noopener noreferrer"}},[t._v("5 款常用《网络抓包工具》"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/phunxm/article/details/38590561",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mac OS X 上使用 Wireshark 抓包"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://mac.orsoon.com/z/Wireshark.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Wireshark for mac破解版合集"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);